<ActionBar title="Edit Car Details" icon="">
    <!--HACK - we should remove the navigation button-->
    <NavigationButton visibility="collapsed"></NavigationButton>
    <ActionItem text="Cancel" ios.position="left" android.position="left" (tap)="onCancelButtonTap()"></ActionItem>
    <ActionItem text="Done" ios.position="right" android.position="right" (tap)="onDoneButtonTap()"></ActionItem>
</ActionBar>

<GridLayout>
    <ScrollView>
        <StackLayout>
            <Label text="CAR MAKE"></Label>
            <TextField [(ngModel)]="car.name" hint="Enter your car make"></TextField>

            <GridLayout columns="auto, *">
                <Label text="PRICE PER DAY"></Label>
                <Label col="1" horizontalAlignment="right">
                    <FormattedString>
                        <Span text="â‚¬"></Span>
                        <Span [text]="car.price"></Span>
                    </FormattedString>
                </Label>
            </GridLayout>
            <Slider [(ngModel)]="car.price"></Slider>

            <Label text="ADD OR REMOVE IMAGE"></Label>
            <!--
            ImageAddRemove is a custom component, that wraps an imagepicker plugin and provides custom design and logic
            on top of it. Check out the custom component at /cars/car-detail-edit/image-add-remove.
            -->
            <ImageAddRemove [imageUrl]="car.imageUrl" (selectionChanged)="onImageAddRemove($event)"></ImageAddRemove>

            <Label text="CLASS"></Label>
            <!--
            ListSelector is a custom component, that provides custom design and logic for picking an option from a list.
            Check out the custom component at /cars/car-detail-edit/list-selector.
            -->
            <ListSelector [selectedValue]="car.class" [items]="carClasses" tag="class"></ListSelector>

            <Label text="DOORS"></Label>
            <ListSelector [selectedValue]="car.doors" [items]="carDoors" tag="doors"></ListSelector>

            <Label text="SEATS"></Label>
            <ListSelector [selectedValue]="car.seats" [items]="carSeats" tag="seats"></ListSelector>

            <Label text="TRANSMISSION"></Label>
            <ListSelector [selectedValue]="car.transmission" [items]="carTransmissions" tag="transmission"></ListSelector>

            <GridLayout columns="auto, *">
                <Label text="LUGGAGE"></Label>
                <Label col="1" horizontalAlignment="right">
                    <FormattedString>
                        <Span [text]="car.luggage"></Span>
                        <Span text=" Bag(s)"></Span>
                    </FormattedString>
                </Label>
            </GridLayout>
            <!-- Currently setting (or binding) minValue / maxValue properties resets the slider value -->
            <!-- On the other hand [even collapsed] the "Android" hack triggers segmentation fault on iOS hence the ngIf -->
            <Slider *ngIf="!isAndroid" minValue="0" maxValue="5" [(ngModel)]="car.luggage"></Slider>
            <Slider *ngIf="isAndroid" [minValue]="carLuggageMinValue" [maxValue]="carLuggageMaxValue" [(ngModel)]="car.luggage"></Slider>

        </StackLayout>
    </ScrollView>

    <ActivityIndicator [busy]="isUpdating"></ActivityIndicator>
</GridLayout>